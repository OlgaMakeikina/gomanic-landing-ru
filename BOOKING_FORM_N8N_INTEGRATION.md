# –§–û–†–ú–ê AGENDE SEU HOR√ÅRIO - –£–ü–†–û–©–ï–ù–ò–ï –ò N8N –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

–î–∞—Ç–∞: 23 –∞–≤–≥—É—Å—Ç–∞ 2025
–°—Ç–∞—Ç—É—Å: ‚úÖ –ì–û–¢–û–í–û

## üéØ –ß–¢–û –ò–ó–ú–ï–ù–ï–ù–û

### –£–ø—Ä–æ—â–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã
- ‚úÖ **–£–¥–∞–ª–µ–Ω—ã –ø–æ–ª—è**: `service`, `date`, `notes`
- ‚úÖ **–û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ**: `name`, `phone`, `email` (–≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ)
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è**: –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –æ email —Å —Å—Å—ã–ª–∫–∞–º–∏

### N8N –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ **–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å**: `src/utils/n8n.ts`
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω API**: `src/app/api/booking/route.ts`
- ‚úÖ **Environment variables**: –¥–æ–±–∞–≤–ª–µ–Ω `N8N_WEBHOOK_URL`

## üìÅ –ò–ó–ú–ï–ù–ï–ù–ù–´–ï –§–ê–ô–õ–´

1. `src/components/tracking/BookingForm.tsx`
   - –£–ø—Ä–æ—â–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–æ—Ä–º—ã
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   - –¢–µ–ø–µ—Ä—å —Ç—Ä–µ–±—É–µ—Ç –≤—Å–µ 3 –ø–æ–ª—è

2. `src/app/api/booking/route.ts`
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω —Å FreSHA –Ω–∞ N8N
   - –£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   - –ù–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—Ç–ø—Ä–∞–≤–∫–µ

3. `src/utils/n8n.ts` (–ù–û–í–´–ô)
   - –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ N8N
   - –¢–∏–ø–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   - Error handling

4. `.env.example` –∏ `.env.local`
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `N8N_WEBHOOK_URL`

## üîß –ù–ê–°–¢–†–û–ô–ö–ê N8N

### Environment Variable
```env
# –í .env.local –∏ –Ω–∞ –ø—Ä–æ–¥–µ
N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/booking-form
```

### –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –≤ N8N
```json
{
  "name": "string",
  "phone": "string", 
  "email": "string",
  "source": "gomanic-landing-br",
  "timestamp": "2025-08-23T10:30:00.000Z"
}
```

## üìã –§–û–†–ú–ê –°–ï–ô–ß–ê–°

**–ü–æ–ª—è (–≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ):**
- üìù Nome *
- üì± WhatsApp * 
- üìß Email *

**–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏:**
- ‚úÖ "Dados Enviados com Sucesso!"
- üíå "Obrigado! Voc√™ receber√° um email com os links de agendamento em breve."

## üöÄ –î–ï–ü–õ–û–ô

1. **–õ–æ–∫–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ**: ‚ùå (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å N8N URL)
2. **Production ready**: ‚úÖ (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ N8N)
3. **Backward compatible**: ‚úÖ

## üìö –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

### API Endpoint: `/api/booking`
```typescript
POST /api/booking
Body: {
  name: string,
  phone: string, 
  email: string
}

Success: {
  success: true,
  message: "Dados enviados com sucesso! Voc√™ receber√° um email em breve.",
  data: any
}

Error: {
  error: string
}
```

### N8N Integration
- **–ú–µ—Ç–æ–¥**: POST webhook
- **–§–æ—Ä–º–∞—Ç**: JSON
- **Retry logic**: –ü–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)
- **Fallback**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## ‚ö†Ô∏è TODO

1. **–ü–æ–ª—É—á–∏—Ç—å N8N webhook URL** –æ—Ç –∫–æ–º–∞–Ω–¥—ã
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é** —Å —Ä–µ–∞–ª—å–Ω—ã–º N8N
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å email –æ—Ç–ø—Ä–∞–≤–∫—É** —Å—Å—ã–ª–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
4. **–î–æ–±–∞–≤–∏—Ç—å retry logic** –¥–ª—è N8N (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

```
BookingForm.tsx
      ‚Üì POST /api/booking
      ‚Üì submitToN8N()
      ‚Üì N8N Webhook
      ‚Üì Email —Å —Å—Å—ã–ª–∫–∞–º–∏
```

**–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ (n8n.ts –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å)
**TypeScript**: ‚úÖ –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è  
**Production ready**: ‚úÖ Error handling + –≤–∞–ª–∏–¥–∞—Ü–∏—è
**Vogue —Å—Ç–∏–ª—å**: ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω –≤–∏–∑—É–∞–ª

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ —Å N8N!
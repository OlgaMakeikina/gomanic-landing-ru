import { headers } from 'next/headers';
import { getCurrentMasterConfig, type MasterConfig } from './masters-config';

export async function getServerSideMasterConfig(): Promise<MasterConfig> {
  const headersList = headers();
  const host = headersList.get('host') || '';
  
  return getCurrentMasterConfig(host);
}

export function getMasterFromHostname(hostname: string): string {
  const subdomain = hostname.split('.')[0];
  return subdomain === 'www' || subdomain === hostname ? 'default' : subdomain;
}
